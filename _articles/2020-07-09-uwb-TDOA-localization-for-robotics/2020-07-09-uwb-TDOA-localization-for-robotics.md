---
# layout: page
layout: single
title: "移动机器人的UWB无线定位：简介"
title-en: "UWB Localization for Robotics: Introduction"
author: drivextech
date: 2020-07-09 21:00:00 +0800
last_modified_at: 2020-07-26 19:00:00 +0800
categories: UWB
excerpt_separator: <!--more-->
---

<!-- ## 摘要 -->

本文简要介绍

<!--more-->

## 背景简介

工业化进程不断加快，智能化的机器人取代人工进行简单和重复性的劳动也成为降低成本，增加效率，保证产品质量等重要途径，自主可移动机器人(AMR)作为众多机器人类别中的一类，赋予机器人自主移动的能力，极大地扩展了机器人的应用场合，如：

1. 搬运物流机器人：用于智能仓储，智能工厂等，例如，用于亚马逊仓库的Kiva机器人，淘宝菜鸟仓库机器人等
2. 扫地机器人：国外的如iRobot，Dayson等，国内的如科沃斯扫地机，小米扫地机等
3. 引导机器人：用于园区，餐厅，展厅，会展厅，博物馆等行人导引服务
4. 智能汽车：通过车身装载的多种传感器（如激光雷达，摄像头，GPS，UWB等）实现自主行驶，自动泊车，反向寻车，主动召唤等功能

为使机器人具有自主移动的能力，其至少必须具备感知自身位置和规划行进路线的能力，这类似于我们通过GPS进行定位并通过Google地图等决定行驶路线。对于移动机器人来说，定位、路径规划、避障这3个功能模块相辅相成，共同促进机器人的自主性和智能性，而较好的定位能力是其他两个模块能高效运行的前提和基础。

### 移动机器人主流定位技术

目前主流商业方案中对移动机器人的定位导航主要有3个类别：

1. 激光雷达(Lidar)定位导航方案
    采用激光雷达作为主要的数据感知源，通过其对周边环境实时测量所得的2D/3D环境点云数据，利用临近点云配准算法，全局点云注册算法等实现对机器人自身的位置计算和对运行环境的地图构建。激光雷达测距精度极高(~5mm)，在强光直射以外的环境中运行稳定，同时点云本身也包含附近空间占用信息，可直接进一步用于机器人的路径规划和导航避障等。激光雷达方案依据对周围环境的检测、感知、建模方式不同，又主要分为2类：

    - 自然环境激光导航方案
        激光雷达直接对周围环境测量以获得点云信息，对相邻时刻的点云信息利用点云匹配算法来估计相对位移，并利用当前位置把该位置相对应的点云在全局环境点云中进行注册。

    - 反光柱激光导航方案
        在大型空旷的厂房或狭长简单的走廊等场合，由于缺乏足够的关于周边环境的几何特征信息，自然导航的激光雷达方案精度降低很多甚或可能失效，为解决这个问题，会人为的在运行环境中随机地布置一些涂有高反射性材料的反光板或反光柱，激光雷达在运行过程中不断地检测和追踪这些标识物体，并同时利用这些标识物体增量式地构建关于环境的稀疏特征地图。

2. 视觉(Visual)定位导航方案
    采用摄像头作为主要的定位数据来源，通过获取关于周围环境的实时图像数据，利用计算机视觉技术，如特征点检测与匹配，光流追踪等，增量式地构建关于环境的视觉特征地图，并利用构建的稀疏地图信息进行实时定位，回环检测以消除累积误差，以及位置重定位等。视觉方案对比激光雷达方案成本较低，对环境的语义信息感知较为丰富，然而视觉方案对环境的光照信息和视觉纹理特征等要求很高，在弱光、强光、弱纹理等场景下无法工作，此外，视觉方案所生成的稀疏环境地图也无法直接用于机器人的路径规划和导航避障等。激光雷达方案依据对周围环境的检测、感知、建模方式不同，又主要分为2类：

    - 自然环境视觉导航方案
        摄像头直接对周围环境成像以获得图像数据，并进而从中提取具有丰富自然环境特征的特征点，利用这些特征点重建环境的稀疏特征地图并通过追踪这些特征点来实现对机器人自身的的定位。

    - 二维码标签视觉导航方案
        在一些无纹理或弱纹理的场合，或视觉传感器受限于安装位置无法有效记录周围环境的情形(如仓库搬运AMR由于需要运载大型物品等，摄像头只能位于机器人底部，成像质量和图像纹理特征都较差)，自然导航的视觉方案精度通常很差甚或无法工作，为解决这个问题，会人为的在运行环境中布置很多容易检测和识别的二维码标签，机器人通过在运行过程中不断地检测和追踪这些二维码标志，即可实现对自身的定位并同时增量式地构建环境的稀疏二维码标志地图。

3. GPS定位导航方案
    作为室外场景最主要的定位方案，GPS接收机通过同时接收多个已知位置信息的卫星所发射的信号来计算位置坐标，GPS可支持对无限数量的设备同时进行精度为~10m的定位，利用多个接收机实现DGPS或RTK可进一步提升定位精度到1-10cm的范围。然而，由于无线信号本身的特性和环境所引入的噪声、干扰，GPS导航系统不适应用在室内或者水下机器人的导航中以及对于位置精度要求较高的场景。

### UWB无线定位系统
IPS

## UWB无线定位系统与移动机器人定位导航

在室外场景下，GPS无线定位系统已经成为传统车载导航，以及各种自动驾驶技术的标准配置传感器。对于室内应用场景，也存在多种无线定位技术(如Wifi、蓝牙、UWB等)，然而所有这些室内无线定位技术很少见到用于智能机器人作为标配传感器。目前用于室内场景的自主移动机器人(AMR)，实现其对自身定位能力的主要传感器是激光雷达(Lidar)或摄像头，并利用机身携带的其他传感器(如轮式编码器、IMU等)进行辅助定位同时增加定位精度和定位稳定性。

要作为移动机器人的主要定位传感器，定位系统需要满足至少以下几个性能指标：

1. 较高的定位精度

    室内场景由于空间有限，且存在人员、物品等分布在整个环境中，为使机器人能够自主行驶，有效地规划行进路线，避开障碍物和行人等，其需要能够精确的估计自身在定位地图中的位置，较大的定位误差会使得机器人规划出较差的行进路线甚或是无法规划出行进路线，而较大的定位不稳定性会使得机器人执行器出现很大控制量变化，影响机器人行驶的稳定性。通常来说，在轮式编码器和IMU数据的辅助下，主定位传感器应提供<10cm的定位精度和定位稳定性。

2. 较低的定位延迟

    机器人需要不停地获取自己的位置信息从而进行路径规划、导航、避障等，较大的或不稳定的定位输出延迟会导致机器人行驶过程的晃动摇摆，甚至撞到障碍物等。对于大多数慢速搬运机器人来说，定位延迟需<10ms。

3. 较高的定位输出频率

    由于机器人在当前时刻的位置坐标只能从最近一次定位位置差值外推而来，因而在输出频率很低时，当前时刻的位置估计会有很大的误差，这会使得机器人很难避开地图中的固定障碍物。尽管相邻定位时刻的位置信息可由轮式编码器和IMU等来估计和补偿，但轮式数据可能打滑，以及IMU对于较长时间的位置积分具有很大误差，因而主定位传感器通常需要提供>5Hz的定位输出频率。

4. 易融合多种传感器数据

5. 安装部署容易，对环境改动小

**场景：**
仓储、物流机器人定位导航
智能停车场与无人驾驶汽车

**优势：**
人员、机器人混合定位导航，同一套定位系统，支持紧密的人员、机器人的交互和协作
低功耗，低计算力需求
便携、易安装

### why not UWB for AMR before

### how to use UWB for AMR
